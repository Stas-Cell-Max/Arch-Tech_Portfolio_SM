/* jquery.scrolly v1.0.0-dev | (c) @ajlkn | MIT licensed */
(function (e) {

    // Function to calculate the scroll position based on the anchor and offset
    function u(s, o) {
        var u, a, f;

        if ((u = e(s)).length == 0) return n;

        // Get the top position of the element
        a = u.offset().top;

        switch (o.anchor) {
            case "middle":
                // Scroll to the middle of the element
                f = a - (e(window).height() - u.outerHeight()) / 2;
                break;
            default:
            case "top":
                // Scroll to the top of the element
                f = Math.max(a, 0);
        }

        // Adjust scroll position based on offset
        if (typeof o.offset == "function") {
            f -= o.offset();
        } else {
            f -= o.offset;
        }

        return f;
    }

    var t = "length",
        n = null,
        r = "top",
        i = "offset",
        s = "click.scrolly",
        o = e(window);

    // jQuery scrolly plugin
    e.fn.scrolly = function (i) {
        var o, a, f, l, c = e(this);

        if (this.length == 0) return c;

        // Handle multiple elements
        if (this.length > 1) {
            for (o = 0; o < this.length; o++) {
                e(this[o]).scrolly(i);
            }
            return c;
        }

        // Get the href attribute (target anchor)
        l = n;
        f = c.attr("href");

        // Return if not a valid anchor
        if (f.charAt(0) !== "#" || f.length < 2) return c;

        // Default options with overrides
        a = jQuery.extend({
            anchor: r,
            easing: "swing",
            offset: 0,
            parent: e("body,html"),
            pollOnce: !1,
            speed: 1000
        }, i);

        // If pollOnce is true, calculate the scroll position once
        a.pollOnce && (l = u(f, a));

        // Add the click event to trigger the scroll animation
        c.off(s).on(s, function (e) {
            var t = l !== n ? l : u(f, a);

            if (t !== n) {
                e.preventDefault();
                a.parent.stop().animate({ scrollTop: t }, a.speed, a.easing);
            }
        });
    };

})(jQuery);
